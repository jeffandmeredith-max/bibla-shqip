name: Daily Rebuild

on:
  # Disabled — Cloudflare Pages rebuilds automatically on every push.
  # Uncomment the lines below if you ever need to force a daily rebuild.
  # schedule:
  #   - cron: '0 8 * * *'
  workflow_dispatch: # manual trigger still available from GitHub UI

jobs:
  trigger-rebuild:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Push empty commit to trigger rebuild
        run: |
          git config user.email "daily-rebuild@github-actions"
          git config user.name "Daily Rebuild"
          git commit --allow-empty -m "chore: daily rebuild $(date +'%Y-%m-%d')"
          git push
          echo "✅ Rebuild triggered via git push"
